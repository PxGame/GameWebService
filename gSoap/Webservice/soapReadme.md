<div style='display: none'>
@tableofcontents @section README

To view this file in a browser, download readmeviewer.html from https://www.genivia.com/files/readmeviewer.html.zip, unzip and copy it to the same directory where this soapReadme.md file is located, then open it in a browser to view the contents of soapReadme.md.

This markdown file is compatible with Doxygen.
</div>

## Overview {#doc-overview}

This report was generated by soapcpp2 v2.8.36 for interface file [GameWebService.h](GameWebService.h) with options -r -0 -S -L -w 

### Tools

The **wsdl2h** command line tool takes a set of WSDL and XSD files to generate a data binding interface file.  This interface file is similar to a C/C++ header file and contains declarations of C/C++ types and functions with explanatory comments, directives, and annotations.  Types are declared in this interface file as serializable.  Functions are declared as Web service operations for the client and server sides.

The **soapcpp2** command line tool takes an interface file (i.e. a header file) such as [GameWebService.h](GameWebService.h) to generate the data binding implementation.  This implementation includes XML serializers and source code for the client and server side.  An interface file for soapcpp2 can be a regular C/C++ header file with type and function declarations (without code), and include annotations to declare XML schema-related properties.

### Files

The following C++ source code files were generated by soapcpp2 for interface file [GameWebService.h](GameWebService.h):

- [soapStub.h](Webservice/soapStub.h) contains an annotated copy of [GameWebService.h](GameWebService.h) and of the imported files (if any), where most of the information in this report [soapReadme.md](Webservice/soapReadme.md) is sourced from (this header file also #includes "stdsoap2.h")
- [soapH.h](Webservice/soapH.h) declares allocation and (de)serialization functions for each C/C++ type, to #include in projects (this header file also #includes "soapStub.h")
- [soapC.cpp](Webservice/soapC.cpp) defines allocation and (de)serialization functions for each C/C++ type, to compile with a project
- [soapServer.cpp](Webservice/soapServer.cpp) defines server functions, including the service dispatcher that calls back-end service operations, to compile with a project

Also compile stdsoap2.cpp (and dom.cpp if XML DOM is used) with a project (or link libgsoapssl++.a) and use the following compile-time options:

- `-DWITH_OPENSSL` to enable HTTPS with OpenSSL
- `-DWITH_GNUTLS` to enable HTTPS with GNUTLS
- `-DWITH_DOM` is required when using the WS-Security plugin
- `-DWITH_GZIP` to enable message compression

See the gSOAP documentation for additional options.

### Contents

This report has the following contents describing the data binding interface types, and the client- and the server-side operations (if any):

- [class, struct and union types](#doc-classes)
- [typedefs](#doc-typedefs)
- [summary of serializable types](#doc-types)
- [schemas and namespaces](#doc-namespaces)
- [Web server operations](#doc-server) lists the service operations to implement when developing a service

[![][1] To top](#)


## Class, Struct and Union Types {#doc-classes}

The table below lists the classes, structs and unions declared in [GameWebService.h](GameWebService.h) or that are imported:

<table class="doxtable">
<tr><th> Type </th><th> Declared </th><th> Serializable </th></tr>
<tr><td><code><a href="#ns__test"> struct ns__test </a></code></td><td> GameWebService.h:5 </td><td> yes </td></tr>
</table>

<a name="ns__test"></a>

### `struct ns__test`

This struct is declared in [GameWebService.h](GameWebService.h) at line 5, is serialized as XSD type *`ns:test`* and is internally used as the operation request element *`<ns:test>`* with the request parameters of service operation `ns__test()`.

[![][1] To top](#)


<a name="SOAP_ENV__Header"></a>

### `struct SOAP_ENV__Header`

This struct is for internal use only

<a name="SOAP_ENV__Code"></a>

### `struct SOAP_ENV__Code`

This struct is for internal use only

<a name="SOAP_ENV__Detail"></a>

### `struct SOAP_ENV__Detail`

This struct is for internal use only

<a name="SOAP_ENV__Reason"></a>

### `struct SOAP_ENV__Reason`

This struct is for internal use only

<a name="SOAP_ENV__Fault"></a>

### `struct SOAP_ENV__Fault`

This struct is for internal use only

## Typedefs {#doc-typedefs}

A typedef type is serializable if its underlying base type is serializable.  Typedefs may declare custom serializers, meaning their underlying types are custom-serialized in XML using serialization rules that differ from the serialization rules of the underlying base type:
<table class="doxtable">
<tr><th> Typedef </th><th> Type </th><th> Declared </th><th> Serializable </th><th> Custom </th></tr>
<tr><td><code><a href="#_QName"> _QName </a></code></td><td><code> char * </code></td><td> GameWebService.h:5 </td><td> yes </td><td> yes </td></tr>
<tr><td><code><a href="#_XML"> _XML </a></code></td><td><code> char * </code></td><td> GameWebService.h:5 </td><td> yes </td><td> yes </td></tr>
</table>

<a name="_QName"></a>

### `_QName`

This typedef is declared in [GameWebService.h](GameWebService.h) at line 5 and is a built-in string type to normalize and serialize a list of space-separated QNames stored in a string, such that namespace prefixes in this string can be used when prefixes have URI entries in the [namespace table](#doc-namespaces)

[![][1] To top](#)


<a name="_XML"></a>

### `_XML`

This typedef is declared in [GameWebService.h](GameWebService.h) at line 5 and is a built-in string type to serialize XML that is literally stored in this string

[![][1] To top](#)


## Summary of Serializable Types {#doc-types}

Each serializable C/C++ *Type* with binding name *Name* has a set of auto-generated functions:

- `Type *soap_new_Name(struct soap*)` managed allocation and default initialization
- `Type *soap_new_Name(struct soap*, int n)` managed allocation and default initialization of an array `Type[n]`
- `(Type *)soap_malloc(struct soap*, sizeof(Type))` raw managed allocation of primitive *Type* (primitive types are types that are not structs or classes)
- `void soap_default_Name(struct soap*, Type*)` initialize or reset *Type* to default (see below for class *Type*)
- `void Type::soap_default(struct soap*)` non-volatile class *Type* reset to default
- `const char *soap_strdup(struct saop*, const char*)` managed duplication of string
- `const wchar_t *soap_wstrdup(struct saop*, const wchar_t*)` managed duplication of wide string
- `int soap_read_Name(struct soap*, Type*)` deserialize *Type* from XML, returns `SOAP_OK` or error code
- `int soap_write_Name(struct soap*, Type*)` serialize *Type* to XML, returns `SOAP_OK` or error code
- `const char *soap_Name2s(struct soap*, Type)` primitive *Type* only, returns string-converted *Type* in temporary string buffer
- `int soap_s2Name(struct soap*, const char*, Type*)` primitive *Type* only, convert string to value, returns `SOAP_OK` or error code

Each *Type* also has a unique type id `SOAP_TYPE_Name` that you can use to serialize `void*` in a struct/class by setting the `int __type` member to this type id. The unique type id is also used to distinguish derived class instances from base class instances by calling their `virtual soap_type()` methods that return this type id.

From the toolkit documentation:

- Set `soap->sendfd = fd` to serialize to an `int fd` file descriptor
- Set `soap->os = &os` to serialize to a `std::ostream os`
- Set `soap->recvfd = fd` to deserialize from an `int fd` file descriptor
- Set `soap->is = &is` to deserialize from a `std::istream`
- All managed allocated data is deleted by `soap_destroy(soap)` followed by `soap_end(soap)` with context `soap`

The table below lists the serializable types by *Type*, binding *Name*, *Kind*, and the XSD data binding type and/or element.  Pointers, arrays, and containers of these types are also serializable:

<table class="doxtable">
<tr><th> C/C++ Type </th><th> Name </th><th> Kind </th><th> XSD </th></tr>
<tr><td><code> char </code></td><td><code> byte </code></td><td> char </td><td> xsd:byte </td></tr>
<tr><td><code> int </code></td><td><code> int </code></td><td> int </td><td> xsd:int </td></tr>
<tr><td><code><a href="#SOAP_ENV__Fault"> struct SOAP_ENV__Fault </a></code></td><td><code> SOAP_ENV__Fault </code></td><td> struct </td><td>  </td></tr>
<tr><td><code><a href="#SOAP_ENV__Reason"> struct SOAP_ENV__Reason </a></code></td><td><code> SOAP_ENV__Reason </code></td><td> struct </td><td>  </td></tr>
<tr><td><code><a href="#SOAP_ENV__Detail"> struct SOAP_ENV__Detail </a></code></td><td><code> SOAP_ENV__Detail </code></td><td> struct </td><td>  </td></tr>
<tr><td><code><a href="#SOAP_ENV__Code"> struct SOAP_ENV__Code </a></code></td><td><code> SOAP_ENV__Code </code></td><td> struct </td><td>  </td></tr>
<tr><td><code><a href="#SOAP_ENV__Header"> struct SOAP_ENV__Header </a></code></td><td><code> SOAP_ENV__Header </code></td><td> struct </td><td>  </td></tr>
<tr><td><code><a href="#ns__test"> struct ns__test </a></code></td><td><code> ns__test </code></td><td> struct </td><td> ns:test </td></tr>
<tr><td><code><a href="#_XML"> _XML </a></code></td><td><code> _XML </code></td><td> string </td><td> (literal XML string) </td></tr>
<tr><td><code><a href="#_QName"> _QName </a></code></td><td><code> _QName </code></td><td> string </td><td> xsd:QName </td></tr>
<tr><td><code> char * </code></td><td><code> string </code></td><td> string </td><td> xsd:string </td></tr>
</table>

[![][1] To top](#)


## Schemas and Namespaces {#doc-namespaces}

The following schemas and namespaces are used in addition to the predefined SOAP and built-in XSD namespaces:

- Prefix `ns` is bound to namespace URI *`urn:GameWebservice`* with local element and attribute form default *`unqualified`*

The following namespace table is saved to Webservice/GameWebservice.nsmap:

    struct Namespace namespaces[] = {
        {"SOAP-ENV", NULL, NULL, NULL},
        {"SOAP-ENC", NULL, NULL, NULL},
        {"xsi", "http://www.w3.org/2001/XMLSchema-instance", "http://www.w3.org/*/XMLSchema-instance", NULL},
        {"xsd", "http://www.w3.org/2001/XMLSchema", "http://www.w3.org/*/XMLSchema", NULL},
        {"ns", "urn:GameWebservice", NULL, NULL},
        {NULL, NULL, NULL, NULL}
    };

The table binds XML namespace prefixes (first column) to namespace URIs (second column), similar to xmlns:prefix="URI" in XML.  The third column is a URI pattern with `*` wildcards that is also accepted as a valid namespace URI for inbound XML messages.  The fourth column is NULL.  This table is globally defined for the gSOAP engine.  The engine context will look for it unless you compiled the gSOAP source codes with `-DWITH_NONAMESPACES`.  You must assign this or another namespace table with `soap_set_namespaces(struct soap *soap, struct Namespace *namespaces)` after initializing the context and before processing XML.

[![][1] To top](#)


## Web Server Operations {#doc-server}

Use the service request dispatcher that is auto-generated in [soapServer.cpp](Webservice/soapServer.cpp) to accept and process service requests:

    SOAP_FMAC5 int SOAP_FMAC6 soap_serve(struct soap *soap);

This function serves requests by calling one of the service operations listed further below that matches the request.  Returns `SOAP_OK` or an error code.  This function supports CGI by accepting a request on stdin and sending the response to stdout, and FastCGI.  To serve over HTTP(S), use the following functions to establish a connection:

- `SOAP_SOCKET soap_bind(struct soap *soap, const char *host, int port, int backlog)` returns master socket bound to port (and restricted to host name if not NULL) or `SOAP_INVALID_SOCKET`
- `SOAP_SOCKET soap_accept(struct soap *soap)` accepts connection and returns socket when accepted, or `SOAP_INVALID_SOCKET`
- `int soap_ssl_accept(struct soap *soap)` performs SSL handshake and returns `SOAP_OK` when successful or an error code, call this function after `soap_accept()` to accept SSL/TLS connection

### Service Operation `ns__test()`

This service operation is declared in [GameWebService.h](GameWebService.h) at line 5 and has the following properties:

- REST operation
- Default service endpoint URL "http://localhost"
- Operation namespace prefix `ns` and URI "[urn:GameWebservice](#doc-namespaces)"

The following service operation function declared in [soapStub.h](Webservice/soapStub.h) must be defined in the service back-end code and will be called by the service dispatcher `soap_serve(soap)` defined in [soapServer.cpp](Webservice/soapServer.cpp), and should return `SOAP_OK` by returning `int soap_send_empty_response(struct soap *soap, int httpcode)` when using HTTP:

    SOAP_FMAC5 int SOAP_FMAC6 ns__test(struct soap*);

where:

- `struct soap *soap` is the context

This service function should be implemented as part of the service back-end code and call `int soap_send_empty_response(struct soap *soap, int httpcode)` with a HTTP status/error code (200 to 999) to return, when communicating over HTTP to return a HTTP header.

[![][1] To top](#)





  [1]: https://www.genivia.com/images/go-up.png

--------------------------------------------------------------------------------

_Generated on Wed Oct 26 2016 12:47:34 UTC by soapcpp2 v2.8.36 for GameWebService.h._
_The gSOAP XML Web services tools are Copyright (C) Robert van Engelen, Genivia Inc. All Rights Reserved._
